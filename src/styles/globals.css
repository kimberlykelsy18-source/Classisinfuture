@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-size: 16px;
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.625rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
  }
}

/* ==================== GLOBAL RESET ==================== */

* {
  box-sizing: border-box;
}

html {
  font-size: var(--font-size);
  overflow-x: hidden;
  width: 100%;
}

body {
  overflow-x: hidden;
  width: 100%;
  margin: 0;
  padding: 0;
}

#root {
  overflow-x: hidden;
  width: 100%;
}

/* ==================== LANDING PAGE - AGGRESSIVE RESPONSIVE FIX ==================== */

/* Make the landing page container responsive */
[data-name="Landing page"] {
  position: relative !important;
  width: 100% !important;
  max-width: 100vw !important;
  min-height: 100vh !important;
  overflow: visible !important;
  padding: 0 !important;
  margin: 0 auto !important;
}

/* Scale all absolutely positioned children of landing page */
[data-name="Landing page"] > * {
  position: relative !important;
  left: auto !important;
  right: auto !important;
  top: auto !important;
  bottom: auto !important;
  transform: none !important;
  width: 100% !important;
  max-width: 100vw !important;
  margin: 0 auto !important;
  padding: clamp(1rem, 3vw, 3rem) !important;
}

/* Fix centered elements inside landing page */
[data-name="Landing page"] [class*="left-1/2"] {
  left: 50% !important;
  transform: translateX(-50%) scale(min(1, 100vw / 1728)) !important;
  max-width: min(1728px, 95vw) !important;
}

/* Make all fixed widths responsive inside landing page */
[data-name="Landing page"] [class*="w-[1728px]"],
[data-name="Landing page"] [class*="w-[1616px]"],
[data-name="Landing page"] [class*="w-[1488px]"],
[data-name="Landing page"] [class*="w-[1200px]"] {
  width: min(100%, var(--original-width, 100%)) !important;
  max-width: 95vw !important;
  padding-left: clamp(1rem, 3vw, 3rem) !important;
  padding-right: clamp(1rem, 3vw, 3rem) !important;
}

/* Fix all absolute positioned frames inside landing page */
[data-name="Landing page"] [class*="absolute"] {
  position: relative !important;
  left: auto !important;
  right: auto !important;
  margin: 0 auto !important;
  display: block !important;
}

/* Specific fix for decorative elements */
[data-name="Landing page"] [class*="absolute"][class*="rotate"] {
  position: relative !important;
  margin: 2rem auto !important;
}

/* ==================== TEXT RESPONSIVE ==================== */

/* Huge text - scale down aggressively */
[class*="text-[160px]"] {
  font-size: clamp(2rem, 8vw, 10rem) !important;
  line-height: 1.1 !important;
}

[class*="text-[120px]"] {
  font-size: clamp(1.75rem, 7vw, 7.5rem) !important;
  line-height: 1.1 !important;
}

[class*="text-[90px]"] {
  font-size: clamp(1.5rem, 6vw, 5.625rem) !important;
  line-height: 1.2 !important;
}

[class*="text-[72px]"] {
  font-size: clamp(1.25rem, 5vw, 4.5rem) !important;
  line-height: 1.2 !important;
}

[class*="text-[64px]"] {
  font-size: clamp(1.25rem, 4.5vw, 4rem) !important;
  line-height: 1.2 !important;
}

[class*="text-[56px]"] {
  font-size: clamp(1.125rem, 4vw, 3.5rem) !important;
  line-height: 1.2 !important;
}

[class*="text-[48px]"] {
  font-size: clamp(1rem, 3.5vw, 3rem) !important;
  line-height: 1.3 !important;
}

[class*="text-[40px]"] {
  font-size: clamp(1rem, 3vw, 2.5rem) !important;
  line-height: 1.3 !important;
}

[class*="text-[32px]"] {
  font-size: clamp(0.875rem, 2.5vw, 2rem) !important;
  line-height: 1.4 !important;
}

[class*="text-[28px]"] {
  font-size: clamp(0.875rem, 2.25vw, 1.75rem) !important;
  line-height: 1.4 !important;
}

[class*="text-[24px]"] {
  font-size: clamp(0.875rem, 2vw, 1.5rem) !important;
  line-height: 1.4 !important;
}

[class*="text-[20px]"],
[class*="text-[18px]"] {
  font-size: clamp(0.875rem, 1.5vw, 1.25rem) !important;
  line-height: 1.5 !important;
}

/* ==================== SPACING RESPONSIVE ==================== */

/* Large gaps */
[class*="gap-[88px]"],
[class*="gap-[80px]"],
[class*="gap-[72px]"],
[class*="gap-[64px]"] {
  gap: clamp(1rem, 3vw, 4rem) !important;
}

[class*="gap-[57px]"],
[class*="gap-[48px]"],
[class*="gap-[40px]"] {
  gap: clamp(0.75rem, 2.5vw, 2.5rem) !important;
}

[class*="gap-[32px]"],
[class*="gap-[24px]"] {
  gap: clamp(0.5rem, 2vw, 1.5rem) !important;
}

/* Padding */
[class*="px-["] {
  padding-left: clamp(0.5rem, 2vw, 2rem) !important;
  padding-right: clamp(0.5rem, 2vw, 2rem) !important;
}

[class*="py-["] {
  padding-top: clamp(0.5rem, 2vw, 2rem) !important;
  padding-bottom: clamp(0.5rem, 2vw, 2rem) !important;
}

/* Left positioning */
[class*="left-[120px]"],
[class*="left-[100px]"] {
  left: clamp(1rem, 5vw, 7.5rem) !important;
}

/* Top spacing */
[class*="top-[200px]"],
[class*="top-[250px]"] {
  top: clamp(2rem, 8vw, 12.5rem) !important;
}

/* ==================== IMAGES & MEDIA ==================== */

img {
  max-width: 100%;
  height: auto;
}

svg {
  max-width: 100%;
  height: auto;
}

/* ==================== FLEX & GRID ==================== */

[class*="flex"] {
  min-width: 0;
}

/* Don't force wrap on landing page elements that need horizontal layout */
[data-name="Landing page"] [class*="flex"]:not([class*="flex-col"]) {
  flex-wrap: nowrap;
}

/* But do wrap on smaller screens */
@media (max-width: 768px) {
  [data-name="Landing page"] [class*="flex"]:not([class*="flex-col"]) {
    flex-wrap: wrap !important;
  }
}

[class*="grid"] {
  display: grid;
}

/* ==================== MOBILE OPTIMIZATIONS ==================== */

@media (max-width: 768px) {
  body {
    font-size: 14px;
  }

  /* Stack flex rows */
  [class*="flex-row"] {
    flex-direction: column !important;
  }

  /* Single column grids */
  [class*="grid-cols-"] {
    grid-template-columns: 1fr !important;
  }

  /* Reduce all spacing */
  [class*="gap-["] {
    gap: clamp(0.5rem, 2vw, 1rem) !important;
  }

  /* Make landing page sections stack */
  [data-name="Landing page"] > * {
    padding: 1rem !important;
  }
}

/* ==================== TABLET OPTIMIZATIONS ==================== */

@media (min-width: 769px) and (max-width: 1024px) {
  [class*="text-["] {
    font-size: 85% !important;
  }
}

/* ==================== NAVIGATION FIX ==================== */

/* Ensure navigation dropdown is on top of everything */
nav {
  position: fixed;
  top: 0;
  z-index: 9999 !important;
  width: 100%;
  max-width: 100vw;
}

nav [class*="absolute"] {
  z-index: 10000 !important;
}

/* Dropdown menu specific fix */
nav .group [class*="absolute"] {
  position: absolute !important;
  z-index: 10001 !important;
  top: 100% !important;
  left: 0 !important;
}

/* ==================== OVERFLOW CONTROL ==================== */

html, body, #root {
  overflow-x: hidden;
  max-width: 100vw;
}

main,
section,
article {
  overflow-x: hidden;
  max-width: 100vw;
}

/* ==================== PREVENT LAYOUT BREAKS ==================== */

* {
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Prevent horizontal scroll from any element */
*:not(html):not(body):not(#root) {
  max-width: 100vw;
}

/* ==================== SCALE LANDING PAGE ON SMALL SCREENS ==================== */

@media (max-width: 1728px) {
  [data-name="Landing page"] {
    /* Scale the entire landing page down on smaller screens */
    transform-origin: top center;
    width: 100%;
  }
}

@media (max-width: 640px) {
  [data-name="Landing page"] {
    /* Even more aggressive scaling on mobile */
    padding: 0.5rem !important;
  }
  
  [data-name="Landing page"] > * {
    padding: 0.5rem !important;
  }
}
